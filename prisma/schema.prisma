generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // 如果你用的是 DATABASE_URL，改成：url = env("DATABASE_URL")
  url      = env("POSTGRES_PRISMA_URL")
}

// -------------------- Models --------------------

enum OrderStatus {
  PENDING
  PAID
  CANCELLED
}

model Order {
  id             String       @id @default(cuid())
  orderNo        String       @unique
  customerName   String?
  customerPhone  String?
  customerEmail  String?
  note           String?
  subTotal       Int
  shipping       Int
  total          Int
  status         OrderStatus  @default(PENDING)
  createdAt      DateTime     @default(now())
  items          OrderItem[]

  // 新增的欄位
  pickupStore    String?      // ← 這是你要的門市欄位
}

model OrderItem {
  id        String @id @default(cuid())
  order     Order  @relation(fields: [orderId], references: [id], onDelete: Cascade)
  orderId   String

  productId String
  name      String
  price     Int
  qty       Int
  image     String?
}
